<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kutubxona</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="light">
    <header>
        <h1>Kutubxonaga Xush kelibsiz</h1>
        <input type="text" id="searchInput" placeholder="Qaysi kitobni qidiryapsiz?">
        <button id="toggleTheme">ðŸŒ™ Qorong'u rejim</button>
    </header>

    <nav id="categories">
        <button class="category-btn" data-category="Hadis">Hadis</button>
        <button class="category-btn" data-category="Tarix">Tarix</button>
        <button class="category-btn" data-category="Fiqh">Fiqh</button>
    </nav>

    <main>
        <div id="booksContainer">
            <!-- Kitoblar JS orqali qo'shiladi -->
        </div>
    </main>

    <!-- ðŸ“¥ Kitob qoâ€˜shish tugmasi -->
    <div style="text-align:center; margin:20px;">
        <button id="showUploadBtn">ðŸ“¥ Kitob qoâ€˜shish</button>
    </div>

    <!-- ðŸ“¥ Yangi kitob qoâ€˜shish formasi (dastlab yashirin) -->
    <section id="uploadSection" style="display:none;">
        <h2>ðŸ“¥ Yangi kitob qoâ€˜shish</h2>
        <form id="uploadForm">
            <input type="text" id="bookTitle" placeholder="Kitob nomi" required>
            <input type="text" id="bookDescription" placeholder="Tavsif" required>
            <select id="bookCategory" required>
                <option value="">Kategoriya tanlang</option>
                <option value="Hadis">Hadis</option>
                <option value="Tarix">Tarix</option>
                <option value="Fiqh">Fiqh</option>
            </select>
            <!-- ðŸ“‚ Qurilmadan PDF tanlash -->
            <input type="file" id="bookFile" accept="application/pdf" required>
            <button type="submit">Qoâ€˜shish</button>
        </form>
    </section>

    <footer>
        <p>&copy; 2025 Kutubxona</p>
    </footer>

    <!-- âœ… Qo'shildi: Firebase SDK (compat) va init -->
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>
    <script>
      // Bu yerga Firebase Console -> Web app sahifasidagi configni qo'ying
      // Misol: const firebaseConfig = { apiKey: "...", authDomain: "...", ... };
      const firebaseConfig = {
        apiKey: "API_KEYINGIZ",
        authDomain: "LOYIHA_ID.firebaseapp.com",
        projectId: "LOYIHA_ID",
        storageBucket: "LOYIHA_ID.appspot.com",
        messagingSenderId: "XXXXXXX",
        appId: "APP_ID",
        measurementId: "G-XXXXXXX"
      };

      // Firebase ishga tushiriladi
      firebase.initializeApp(firebaseConfig);

      // Global o'zgaruvchilar (script.js uchun)
      window.db = firebase.firestore();
      window.storage = firebase.storage();
    </script>

    <script src="script.js"></script>
</body>
</html>
